import{a as q,b as G,c as me}from"./chunk-DDPZX22V.js";import{a as p}from"./chunk-YVUZWRFN.js";import{$ as te,L as Y,Y as Z,Z as $,_ as ee,aa as re,b as j,ba as ie,c as F,ca as ae,d as R,da as oe,e as L,ea as ne,fa as se,g as J,ga as le,h as V,ha as x,i as z,j as B,k as W,ka as d,l as H,la as v,m as K,n as Q,s as U,t as X}from"./chunk-J75FIYFQ.js";import{$a as A,Ga as c,Ha as h,Ib as O,Qa as b,U as D,Xa as C,Ya as E,Za as I,cb as a,da as k,db as o,eb as s,fb as P,hb as u,ib as f,oa as g,ob as m,pa as S,qb as y,sb as M,tb as N,ub as w,vb as T}from"./chunk-C45MVH67.js";var ce=(()=>{let r=class r{constructor(){this.storage=localStorage,this.hasSavedData=b(!1),this.storage.getItem("team")&&this.storage.getItem("parameters")?this.hasSavedData.set(!0):this.hasSavedData.set(!1)}save(i){i.team&&this.storage.setItem("team",JSON.stringify(i.team)),this.storage.setItem("parameters",i.parameters?JSON.stringify(i.parameters):JSON.stringify(x)),this.hasSavedData.set(!0)}clear(){this.storage.removeItem("team"),this.storage.removeItem("parameters"),this.hasSavedData.set(!1)}restore(){let i=this.storage.getItem("team")?JSON.parse(this.storage.getItem("team")):[],t=this.storage.getItem("parameters")?JSON.parse(localStorage.getItem("parameters")):x;return this.hasSavedData.set(!1),{team:i,parameters:t}}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=D({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function ue(e,r){if(e&1&&(a(0,"clr-alert",16)(1,"clr-alert-item")(2,"span",17),m(3),w(4,"async"),o()()()),e&2){let l=f();I("clrAlertType","info")("clrAlertClosable",!0),c(3),y(" ",T(4,3,l.alert.getAlert())," ")}}function ge(e,r){if(e&1){let l=P();a(0,"clr-alert",18)(1,"clr-alert-item")(2,"span",17),m(3),o(),a(4,"div",19)(5,"clr-dropdown")(6,"button",20),m(7," Actions "),s(8,"cds-icon",21),o(),a(9,"clr-dropdown-menu",22)(10,"a",23),u("click",function(){g(l);let t=f();return S(t.restore())}),m(11,"restore"),o(),a(12,"a",23),u("click",function(){g(l);let t=f();return S(t.deleteSavedData())}),m(13,"delete"),o()()()()()()}if(e&2){let l=f();I("clrAlertClosable",!0),c(3),y(" A save has been found in your browser, do you want to restore it ? ",l.getSavedTeammates()," ")}}W.addIcons(H,Q,K,U,X);var pe=(()=>{let r=class r{constructor(i,t,n,_){this.alert=i,this.teamService=t,this.parametersService=n,this.storageService=_,this.title="sprint-resources-availability",this.getSavedTeammates=O(()=>this.teamService.getTeammates().map(ve=>ve.name).join(", ")),this.hasSavedData=!1}save(){this.storageService.save({team:this.teamService.getTeammates(),parameters:this.parametersService.getParameters()}),this.alert.setAlert("save done")}deleteSavedData(){this.storageService.clear(),this.alert.setAlert("delete done")}restore(){let{team:i,parameters:t}=this.storageService.restore();i.forEach(n=>this.teamService.addTeammate(new me(n.name,n.availableDaysInAWeek,n.holidaysForNextSprint,n.meetingDaysAWeek,n.isNewComer))),this.parametersService.setParameters(new le(t.nbWeeksForOneSprint,t.marginRate,t.velocityRateForNewComer)),this.alert.setAlert("Restore done")}};r.\u0275fac=function(t){return new(t||r)(h(p),h(v),h(d),h(ce))},r.\u0275cmp=k({type:r,selectors:[["app-root"]],standalone:!0,features:[M([v,d,p]),N],decls:22,vars:5,consts:[[1,"main-container"],[1,"header","header-6"],[1,"branding"],["routerLink","/"],[1,"title"],[1,"header-nav"],["routerLink","manage-team",1,"nav-link","nav-icon"],["shape","calculator","size","24"],["routerLink","add-teammate",1,"nav-link","nav-icon"],["shape","user","size","24"],["routerLink","edit-parameters",1,"nav-link","nav-icon"],["shape","cog","size","24"],[1,"nav-link","nav-icon","a-hover",3,"click"],["shape","floppy","size","24"],[1,"content-container"],[1,"content-area"],[3,"clrAlertType","clrAlertClosable"],[1,"alert-text"],[3,"clrAlertClosable"],[1,"alert-actions"],["clrDropdownTrigger","",1,"dropdown-toggle"],["shape","angle","direction","down"],["clrPosition","bottom-right"],["clrDropdownItem","",1,"dropdown-item",3,"click"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"clr-alerts"),C(2,ue,5,5,"clr-alert"),w(3,"async"),C(4,ge,14,2,"clr-alert"),o(),a(5,"header",1)(6,"div",2)(7,"a",3)(8,"span",4),m(9,"How many days ?"),o()()(),a(10,"div",5)(11,"a",6),s(12,"cds-icon",7),o(),a(13,"a",8),s(14,"cds-icon",9),o(),a(15,"a",10),s(16,"cds-icon",11),o(),a(17,"a",12),u("click",function(){return n.save()}),s(18,"cds-icon",13),o()()(),a(19,"div",14)(20,"div",15),s(21,"router-outlet"),o()()()),t&2&&(c(2),A(2,T(3,3,n.alert.hasAlert())?2:-1),c(2),A(4,n.storageService.hasSavedData()?4:-1),c(13),E("disabled",n.teamService.getTeammates().length?"disabled":""))},dependencies:[F,j,B,L,J,G,q,se,ie,ae,ne,oe,re,Z,ee,te,$,Y],styles:[".a-hover[_ngcontent-%COMP%]{cursor:pointer}"]});let e=r;return e})();var de=[{path:"",redirectTo:"/manage-team",pathMatch:"full"},{path:"manage-team",loadComponent:()=>import("./chunk-2QGGTEZN.js").then(e=>e.ManageTeamComponent)},{path:"list-team",loadComponent:()=>import("./chunk-4RHQ3K7G.js").then(e=>e.ListTeamComponent)},{path:"add-teammate",loadComponent:()=>import("./chunk-GRZUM3Q2.js").then(e=>e.AddTeammateComponent)},{path:"edit-teammate/:id",loadComponent:()=>import("./chunk-GRZUM3Q2.js").then(e=>e.AddTeammateComponent)},{path:"edit-parameters",loadComponent:()=>import("./chunk-VCQS57FP.js").then(e=>e.EditParametersComponent)},{path:"**",loadComponent:()=>import("./chunk-QPYYREJE.js").then(e=>e.Page404Component)}];R(pe,{providers:[V(de,z()),v,d,p]}).catch(e=>console.error(e));
