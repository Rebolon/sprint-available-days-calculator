import{a as J}from"./chunk-LNWSTBAG.js";import"./chunk-VHKMH3HJ.js";import"./chunk-CWWXQANX.js";import{A as y,B as g,C as w,D as F,E as R,F as N,I as T,J as I,L as V,M as k,N as q,O,P as W,Q as M,U as A,V as D,W as L,fa as G,ga as H,ha as j,ia as z,ja as B,u as S,v as l,w as x,x as b,y as P,z as f}from"./chunk-DQM3MINA.js";import{Ea as n,Pa as v,Wa as u,_ as C,cb as a,ib as t,jb as e,kb as h,nb as d,s as E,ub as o}from"./chunk-BUWQDSLL.js";var c=class extends P{constructor(i,m=new T){super(m.group({nbWeeksForOneSprint:new f(i?.nbWeeksForOneSprint,[l.required,l.min(1)]),marginRate:new f(i?.marginRate,[l.required,l.min(0),l.max(1)]),velocityRateForNewComer:new f(i?.velocityRateForNewComer,[l.required,l.min(0),l.max(1)])}).controls),this.parameters=i,this.formBuilder=m,this.nbWeeksForOneSprint=this.get("nbWeeksForOneSprint"),this.marginRate=this.get("marginRate"),this.velocityRateForNewComer=this.get("velocityRateForNewComer")}};function K(r,i){r&1&&(t(0,"clr-control-error"),o(1,"This is a required field"),e())}function Q(r,i){r&1&&(t(0,"clr-control-error"),o(1,"Lower value is 1"),e())}function U(r,i){r&1&&(t(0,"clr-control-error"),o(1,"This is a required field"),e())}function X(r,i){r&1&&(t(0,"clr-control-error"),o(1,"Lower value is 0"),e())}function Y(r,i){r&1&&(t(0,"clr-control-error"),o(1,"Higher value is 0"),e())}function Z(r,i){r&1&&(t(0,"clr-control-error"),o(1,"This is a required field"),e())}function $(r,i){r&1&&(t(0,"clr-control-error"),o(1,"Lower value is 0"),e())}function ee(r,i){r&1&&(t(0,"clr-control-error"),o(1,"Higher value is 1"),e())}var Ee=(()=>{class r{constructor(){this.parametersService=C(B),this.formParameters=z(j(this.parametersService.getParameters).pipe(E(m=>new c(m))),{initialValue:new c(H)})}updateParameters(){if(this.formParameters().valid){let m=new G(this.formParameters().controls.nbWeeksForOneSprint.getRawValue(),this.formParameters().controls.marginRate.getRawValue(),this.formParameters().controls.velocityRateForNewComer.getRawValue());this.parametersService.setParameters(m)}}static{this.\u0275fac=function(p){return new(p||r)}}static{this.\u0275cmp=v({type:r,selectors:[["app-edit-parameters"]],decls:30,vars:9,consts:[["clrForm","","clrLayout","horizontal",3,"formGroup"],["for","nbWeeksForOneSprint"],["id","nbWeeksForOneSprint","clrInput","","type","number","min","1","formControlName","nbWeeksForOneSprint",3,"blur"],[4,"clrIfError"],["for","marginRate"],["id","marginRate","clrInput","","type","number","step","0.1","min","0","max","1","formControlName","marginRate",3,"blur"],["for","velocityRateForNewComer"],["id","velocityRateForNewComer","clrInput","","type","number","step","0.1","min","0","max","1","formControlName","velocityRateForNewComer",3,"blur"]],template:function(p,s){p&1&&(t(0,"h1"),o(1,"Adapt parameters"),e(),t(2,"form",0)(3,"clr-input-container")(4,"label",1),o(5,"Number of weeks in a sprint: "),e(),t(6,"input",2),d("blur",function(){return s.updateParameters()}),e(),t(7,"clr-control-helper"),o(8,"At least 1 week for a sprint"),e(),u(9,K,2,0,"clr-control-error",3)(10,Q,2,0,"clr-control-error",3),e(),t(11,"clr-input-container")(12,"label",4),o(13,"Margin rate: "),e(),t(14,"input",5),d("blur",function(){return s.updateParameters()}),e(),t(15,"clr-control-helper"),o(16,"The margin rate to manage unexpected events"),e(),u(17,U,2,0,"clr-control-error",3)(18,X,2,0,"clr-control-error",3)(19,Y,2,0,"clr-control-error",3),e(),t(20,"clr-input-container")(21,"label",6),o(22,"Velocity rate for new comer: "),e(),t(23,"input",7),d("blur",function(){return s.updateParameters()}),e(),t(24,"clr-control-helper"),o(25,"A new comer is not as efficient as other teammate, here is the rate for this"),e(),u(26,Z,2,0,"clr-control-error",3)(27,$,2,0,"clr-control-error",3)(28,ee,2,0,"clr-control-error",3),e()(),h(29,"app-available-days")),p&2&&(n(2),a("formGroup",s.formParameters()),n(7),a("clrIfError","required"),n(),a("clrIfError","min"),n(7),a("clrIfError","required"),n(),a("clrIfError","min"),n(),a("clrIfError","max"),n(7),a("clrIfError","required"),n(),a("clrIfError","min"),n(),a("clrIfError","max"))},dependencies:[L,q,V,k,W,O,M,D,A,I,y,S,g,x,b,N,R,w,F,J],encapsulation:2})}}return r})();export{Ee as EditParametersComponent};
