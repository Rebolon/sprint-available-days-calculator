"use strict";(self.webpackChunksprint_resources_availability=self.webpackChunksprint_resources_availability||[]).push([[592],{3610:(y,v,t)=>{t.d(v,{F:()=>_});var h=t(7148),m=t(249),o=t(2419),f=t(6814),a=t(5678),c=t(3213),T=t(8696),D=t(2936);function C(e,E){if(1&e&&(a.TgZ(0,"clr-alert",0)(1,"clr-alert-item")(2,"span",1),a._uU(3),a.ALo(4,"toFixed"),a.qZA()()()),2&e){const i=a.oxw();a.Q6J("clrAlertType","info")("clrAlertClosable",!1),a.xp6(3),a.hij(" ",a.xi3(4,3,i.availableDaysForTeam,2)," days available for the sprint. ")}}let _=(()=>{class e{constructor(i,r,d){this.teamService=i,this.parametersService=r,this.alertService=d,this.parameters=h.m,this.team=[]}ngOnInit(){this.teamService.getTeammates().subscribe(i=>{this.team=i,this.calcAvailableDays()}),this.parametersService.getParameters().subscribe(i=>{this.parameters=i,this.calcAvailableDays()})}calcAvailableDays(){let i=[],r=0;this.team.forEach(d=>{try{let p=d.getAvailableDaysInSprint(this.parameters.nbWeeksForOneSprint);d.isNewComer&&(p-=p*this.parameters.velocityRateForNewComer),r+=p}catch(p){i.push(p.message)}}),i.length?(this.availableDaysForTeam=void 0,this.alertService.setAlert(`Seems to be a problem in holidays of teammate and available days in a sprint: ${i.join(", ")}`)):this.availableDaysForTeam=Math.round(100*(r-r*this.parameters.marginRate))/100}static#e=this.\u0275fac=function(r){return new(r||e)(a.Y36(c.U),a.Y36(T.T),a.Y36(D.c))};static#t=this.\u0275cmp=a.Xpm({type:e,selectors:[["app-available-days"]],standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[[3,"clrAlertType","clrAlertClosable"],[1,"alert-text"]],template:function(r,d){1&r&&a.YNc(0,C,5,6,"clr-alert",0),2&r&&a.um2(0,d.team.length>0?0:-1)},dependencies:[f.ez,m.oai,m.TIm,m.CyW,m.I9z,o.A],encapsulation:2})}return e})()},5968:(y,v,t)=>{t.r(v),t.d(v,{ListTeamComponent:()=>M});var h=t(7148),m=t(2419),o=t(9273),f=t(6814),c=(t(446),t(4893));const C=["pencil",(0,t(9482).h)({outline:'<path d="M33.87,8.32,28,2.42a2.07,2.07,0,0,0-2.92,0L4.27,23.2l-1.9,8.2a2.06,2.06,0,0,0,2,2.5,2.14,2.14,0,0,0,.43,0L13.09,32,33.87,11.24A2.07,2.07,0,0,0,33.87,8.32ZM12.09,30.2,4.32,31.83l1.77-7.62L21.66,8.7l6,6ZM29,13.25l-6-6,3.48-3.46,5.9,6Z"/>',solid:'<path d="M4.22,23.2l-1.9,8.2a2.06,2.06,0,0,0,2,2.5,2.14,2.14,0,0,0,.43,0L13,32,28.84,16.22,20,7.4Z"/><path d="M33.82,8.32l-5.9-5.9a2.07,2.07,0,0,0-2.92,0L21.72,5.7l8.83,8.83,3.28-3.28A2.07,2.07,0,0,0,33.82,8.32Z"/>'})];var _=t(5730),e=t(5678),E=t(3213),i=t(8696);const r=(n,u)=>u.name;function d(n,u){1&n&&(e.TgZ(0,"h1"),e._uU(1,"List of teammates"),e.qZA())}function p(n,u){if(1&n){const s=e.EpF();e.TgZ(0,"li")(1,"button",1),e.NdJ("click",function(){const x=e.CHM(s).$implicit,O=e.oxw();return e.KtG(O.editTeammate(x))}),e._UZ(2,"cds-icon",2),e.qZA(),e._uU(3),e.ALo(4,"toFixed"),e.qZA()}if(2&n){const s=u.$implicit,l=e.oxw();e.xp6(1),e.Q6J("disabled",l.editedTeammate&&l.editedTeammate===s),e.xp6(2),e.AsE(" ",s.name,": ",e.xi3(4,3,s.getAvailableDaysInSprint(l.parameters.nbWeeksForOneSprint),2)," days available ")}}function g(n,u){if(1&n&&e._UZ(0,"app-add-teammate",3),2&n){const s=e.oxw();e.Q6J("editedTeammate",s.editedTeammate)}}c.Q.addIcons(C);let M=(()=>{class n{constructor(s,l){this.teamService=s,this.parametersService=l,this.team=[],this.parameters=h.m,this.editedTeammate=void 0}ngOnInit(){this.teamService.getTeammates().subscribe(s=>{this.team=s,this.editedTeammate=void 0}),this.parametersService.getParameters().subscribe(s=>this.parameters=s)}editTeammate(s){this.editedTeammate=s}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(E.U),e.Y36(i.T))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-team"]],standalone:!0,features:[e.jDz],decls:5,vars:2,consts:[[3,"editedTeammate",4,"ngIf"],["aria-label","edit",1,"btn","btn-link",3,"disabled","click"],["shape","pencil"],[3,"editedTeammate"]],template:function(l,A){1&l&&(e.YNc(0,d,2,0,"h1"),e.TgZ(1,"ul"),e.SjG(2,p,5,6,"li",null,r),e.qZA(),e.YNc(4,g,1,1,"app-add-teammate",0)),2&l&&(e.um2(0,A.team.length>0?0:-1),e.wJu(2,A.team),e.xp6(4),e.Q6J("ngIf",A.editedTeammate))},dependencies:[f.ez,f.O5,_.j,_.c,m.A,o.AddTeammateComponent],styles:["ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none}"]})}return n})()},2419:(y,v,t)=>{t.d(v,{A:()=>m});var h=t(5678);let m=(()=>{class o{transform(a,...c){return void 0===a?"":a.toFixed(c.length?c[0]:2)}static#e=this.\u0275fac=function(c){return new(c||o)};static#t=this.\u0275pipe=h.Yjl({name:"toFixed",type:o,pure:!0,standalone:!0})}return o})()}}]);