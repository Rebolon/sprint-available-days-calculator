import{a as T}from"./chunk-VHKMH3HJ.js";import{a as F}from"./chunk-CWWXQANX.js";import{aa as u,ba as C,ca as A,ea as g,ja as x,ka as D}from"./chunk-DQM3MINA.js";import{Bb as b,Ea as o,Hb as S,Pa as n,Wa as s,_ as l,cb as m,eb as c,ib as p,jb as v,ob as d,ub as f,wb as y,zb as h}from"./chunk-BUWQDSLL.js";function P(t,M){if(t&1&&(p(0,"clr-alert",0)(1,"clr-alert-item")(2,"span",1),f(3),h(4,"toFixed"),v()()()),t&2){let a=d();m("clrAlertType","info")("clrAlertClosable",!1),o(3),y(" ",b(4,3,a.availableDaysForTeam(),2)," days available for the sprint. ")}}var O=(()=>{class t{constructor(){this.teamService=l(D),this.parametersService=l(x),this.alertService=l(T),this.availableDaysForTeam=S(()=>{let a=[],e=0;if(this.teamService.getTeammates().forEach(i=>{try{let r=i.getAvailableDaysInSprint(this.parametersService.getParameters().nbWeeksForOneSprint);i.isNewComer&&(r=r-r*this.parametersService.getParameters().velocityRateForNewComer),e+=r}catch(r){a.push(r.message)}}),!a.length)return Math.round((e-e*this.parametersService.getParameters().marginRate)*100)/100})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=n({type:t,selectors:[["app-available-days"]],decls:1,vars:1,consts:[[3,"clrAlertType","clrAlertClosable"],[1,"alert-text"]],template:function(e,i){e&1&&s(0,P,5,6,"clr-alert",0),e&2&&c(i.teamService.getTeammates().length>0?0:-1)},dependencies:[g,u,C,A,F],encapsulation:2})}}return t})();export{O as a};
