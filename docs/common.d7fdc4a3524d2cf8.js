"use strict";(self.webpackChunksprint_resources_availability=self.webpackChunksprint_resources_availability||[]).push([[592],{3610:(g,h,t)=>{t.d(h,{F:()=>_});var T=t(7148),m=t(249),o=t(2419),v=t(6814),a=t(9468),c=t(3213),f=t(8696),C=t(2936);function y(e,D){if(1&e&&(a.TgZ(0,"clr-alert",1)(1,"clr-alert-item")(2,"span",2),a._uU(3),a.ALo(4,"toFixed"),a.qZA()()()),2&e){const i=a.oxw();a.Q6J("clrAlertType","info")("clrAlertClosable",!1),a.xp6(3),a.hij(" ",a.xi3(4,3,i.availableDaysForTeam,2)," days available for the sprint. ")}}let _=(()=>{class e{constructor(i,r,d){this.teamService=i,this.parametersService=r,this.alertService=d,this.parameters=T.m,this.team=[]}ngOnInit(){this.teamService.getTeammates().subscribe(i=>{this.team=i,this.calcAvailableDays()}),this.parametersService.getParameters().subscribe(i=>{this.parameters=i,this.calcAvailableDays()})}calcAvailableDays(){let i=[],r=0;this.team.forEach(d=>{try{let p=d.getAvailableDaysInSprint(this.parameters.nbWeeksForOneSprint);d.isNewComer&&(p-=p*this.parameters.velocityRateForNewComer),r+=p}catch(p){i.push(p.message)}}),i.length?(this.availableDaysForTeam=void 0,this.alertService.setAlert(`Seems to be a problem in holidays of teammate and available days in a sprint: ${i.join(", ")}`)):this.availableDaysForTeam=Math.round(100*(r-r*this.parameters.marginRate))/100}static#e=this.\u0275fac=function(r){return new(r||e)(a.Y36(c.U),a.Y36(f.T),a.Y36(C.c))};static#t=this.\u0275cmp=a.Xpm({type:e,selectors:[["app-available-days"]],standalone:!0,features:[a.jDz],decls:2,vars:1,consts:[[3,"clrAlertType","clrAlertClosable",4,"ngIf"],[3,"clrAlertType","clrAlertClosable"],[1,"alert-text"]],template:function(r,d){1&r&&(a.ynx(0),a.YNc(1,y,5,6,"clr-alert",0),a.BQk()),2&r&&(a.xp6(1),a.Q6J("ngIf",d.team.length>0))},dependencies:[v.ez,v.O5,m.oai,m.TIm,m.CyW,m.I9z,o.A],encapsulation:2})}return e})()},5968:(g,h,t)=>{t.r(h),t.d(h,{ListTeamComponent:()=>E});var T=t(7148),m=t(2419),o=t(9273),v=t(6814),c=(t(446),t(4893));const y=["pencil",(0,t(9482).h)({outline:'<path d="M33.87,8.32,28,2.42a2.07,2.07,0,0,0-2.92,0L4.27,23.2l-1.9,8.2a2.06,2.06,0,0,0,2,2.5,2.14,2.14,0,0,0,.43,0L13.09,32,33.87,11.24A2.07,2.07,0,0,0,33.87,8.32ZM12.09,30.2,4.32,31.83l1.77-7.62L21.66,8.7l6,6ZM29,13.25l-6-6,3.48-3.46,5.9,6Z"/>',solid:'<path d="M4.22,23.2l-1.9,8.2a2.06,2.06,0,0,0,2,2.5,2.14,2.14,0,0,0,.43,0L13,32,28.84,16.22,20,7.4Z"/><path d="M33.82,8.32l-5.9-5.9a2.07,2.07,0,0,0-2.92,0L21.72,5.7l8.83,8.83,3.28-3.28A2.07,2.07,0,0,0,33.82,8.32Z"/>'})];var _=t(5730),e=t(9468),D=t(3213),i=t(8696);function r(l,A){1&l&&(e.TgZ(0,"h1"),e._uU(1,"List of teammates"),e.qZA())}function d(l,A){if(1&l){const s=e.EpF();e.TgZ(0,"li")(1,"button",3),e.NdJ("click",function(){const O=e.CHM(s).$implicit,x=e.oxw();return e.KtG(x.editTeammate(O))}),e._UZ(2,"cds-icon",4),e.qZA(),e._uU(3),e.ALo(4,"toFixed"),e.qZA()}if(2&l){const s=A.$implicit,n=e.oxw();e.xp6(1),e.Q6J("disabled",n.editedTeammate&&n.editedTeammate===s),e.xp6(2),e.AsE(" ",s.name,": ",e.xi3(4,3,s.getAvailableDaysInSprint(n.parameters.nbWeeksForOneSprint),2)," days available ")}}function p(l,A){if(1&l&&e._UZ(0,"app-add-teammate",5),2&l){const s=e.oxw();e.Q6J("editedTeammate",s.editedTeammate)}}c.Q.addIcons(y);let E=(()=>{class l{constructor(s,n){this.teamService=s,this.parametersService=n,this.team=[],this.parameters=T.m,this.editedTeammate=void 0}ngOnInit(){this.teamService.getTeammates().subscribe(s=>{this.team=s,this.editedTeammate=void 0}),this.parametersService.getParameters().subscribe(s=>this.parameters=s)}editTeammate(s){this.editedTeammate=s}trackByName(s,n){return n.name}static#e=this.\u0275fac=function(n){return new(n||l)(e.Y36(D.U),e.Y36(i.T))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-list-team"]],standalone:!0,features:[e.jDz],decls:4,vars:4,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"editedTeammate",4,"ngIf"],["aria-label","edit",1,"btn","btn-link",3,"disabled","click"],["shape","pencil"],[3,"editedTeammate"]],template:function(n,u){1&n&&(e.YNc(0,r,2,0,"h1",0),e.TgZ(1,"ul"),e.YNc(2,d,5,6,"li",1),e.qZA(),e.YNc(3,p,1,1,"app-add-teammate",2)),2&n&&(e.Q6J("ngIf",u.team.length>0),e.xp6(2),e.Q6J("ngForOf",u.team)("ngForTrackBy",u.trackByName),e.xp6(1),e.Q6J("ngIf",u.editedTeammate))},dependencies:[v.ez,v.sg,v.O5,_.j,_.c,m.A,o.AddTeammateComponent],styles:["ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none}"]})}return l})()},2419:(g,h,t)=>{t.d(h,{A:()=>m});var T=t(9468);let m=(()=>{class o{transform(a,...c){return void 0===a?"":a.toFixed(c.length?c[0]:2)}static#e=this.\u0275fac=function(c){return new(c||o)};static#t=this.\u0275pipe=T.Yjl({name:"toFixed",type:o,pure:!0,standalone:!0})}return o})()}}]);