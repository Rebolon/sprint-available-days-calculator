"use strict";(self.webpackChunksprint_resources_availability=self.webpackChunksprint_resources_availability||[]).push([[592],{1393:(g,p,t)=>{t.d(p,{F:()=>y});var f=t(7643),o=t(8481),l=t(3876),c=t(4755),a=t(9523),v=t(7908),u=t(1528),C=t(2561);function A(e,_){if(1&e&&(a.TgZ(0,"clr-alert",1)(1,"clr-alert-item")(2,"span",2),a._uU(3),a.ALo(4,"toFixed"),a.qZA()()()),2&e){const i=a.oxw();a.Q6J("clrAlertType","info")("clrAlertClosable",!1),a.xp6(3),a.hij(" ",a.xi3(4,3,i.availableDaysForTeam,2)," days available for the sprint. ")}}let y=(()=>{class e{constructor(i,m,T){this.teamService=i,this.parametersService=m,this.alertService=T,this.parameters=f.m,this.team=[]}ngOnInit(){this.teamService.getTeammates().subscribe(i=>{this.team=i,this.calcAvailableDays()}),this.parametersService.getParameters().subscribe(i=>{this.parameters=i,this.calcAvailableDays()})}calcAvailableDays(){let i=[],m=0;this.team.forEach(T=>{try{let d=T.getAvailableDaysInSprint(this.parameters.nbWeeksForOneSprint);T.isNewComer&&(d-=d*this.parameters.velocityRateForNewComer),m+=d}catch(d){i.push(d.message)}}),i.length?(this.availableDaysForTeam=void 0,this.alertService.setAlert(`Seems to be a problem in holidays of teammate and available days in a sprint: ${i.join(", ")}`)):this.availableDaysForTeam=Math.round(100*(m-m*this.parameters.marginRate))/100}}return e.\u0275fac=function(i){return new(i||e)(a.Y36(v.U),a.Y36(u.T),a.Y36(C.c))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-available-days"]],standalone:!0,features:[a.jDz],decls:2,vars:1,consts:[[3,"clrAlertType","clrAlertClosable",4,"ngIf"],[3,"clrAlertType","clrAlertClosable"],[1,"alert-text"]],template:function(i,m){1&i&&(a.ynx(0),a.YNc(1,A,5,6,"clr-alert",0),a.BQk()),2&i&&(a.xp6(1),a.Q6J("ngIf",m.team.length>0))},dependencies:[c.ez,c.O5,o.oai,o.TIm,o.CyW,o.I9z,l.A],encapsulation:2}),e})()},9606:(g,p,t)=>{t.r(p),t.d(p,{ListTeamComponent:()=>D});var f=t(7643),o=t(3876),l=t(7945),c=t(4755),v=(t(8931),t(1577));const A=["pencil",(0,t(1498).h)({outline:'<path d="M33.87,8.32,28,2.42a2.07,2.07,0,0,0-2.92,0L4.27,23.2l-1.9,8.2a2.06,2.06,0,0,0,2,2.5,2.14,2.14,0,0,0,.43,0L13.09,32,33.87,11.24A2.07,2.07,0,0,0,33.87,8.32ZM12.09,30.2,4.32,31.83l1.77-7.62L21.66,8.7l6,6ZM29,13.25l-6-6,3.48-3.46,5.9,6Z"/>',solid:'<path d="M4.22,23.2l-1.9,8.2a2.06,2.06,0,0,0,2,2.5,2.14,2.14,0,0,0,.43,0L13,32,28.84,16.22,20,7.4Z"/><path d="M33.82,8.32l-5.9-5.9a2.07,2.07,0,0,0-2.92,0L21.72,5.7l8.83,8.83,3.28-3.28A2.07,2.07,0,0,0,33.82,8.32Z"/>'})];var y=t(9591),e=t(9523),_=t(7908),i=t(1528);function m(s,h){1&s&&(e.TgZ(0,"h1"),e._uU(1,"List of teammates"),e.qZA())}function T(s,h){if(1&s){const n=e.EpF();e.TgZ(0,"li")(1,"button",3),e.NdJ("click",function(){const E=e.CHM(n).$implicit,x=e.oxw();return e.KtG(x.editTeammate(E))}),e._UZ(2,"cds-icon",4),e.qZA(),e._uU(3),e.ALo(4,"toFixed"),e.qZA()}if(2&s){const n=h.$implicit,r=e.oxw();e.xp6(1),e.Q6J("disabled",r.editedTeammate&&r.editedTeammate===n),e.xp6(2),e.AsE(" ",n.name,": ",e.xi3(4,3,n.getAvailableDaysInSprint(r.parameters.nbWeeksForOneSprint),2)," days available ")}}function d(s,h){if(1&s&&e._UZ(0,"app-add-teammate",5),2&s){const n=e.oxw();e.Q6J("editedTeammate",n.editedTeammate)}}v.Q.addIcons(A);let D=(()=>{class s{constructor(n,r){this.teamService=n,this.parametersService=r,this.team=[],this.parameters=f.m,this.editedTeammate=void 0}ngOnInit(){this.teamService.getTeammates().subscribe(n=>{this.team=n,this.editedTeammate=void 0}),this.parametersService.getParameters().subscribe(n=>this.parameters=n)}editTeammate(n){this.editedTeammate=n}trackByName(n,r){return r.name}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(_.U),e.Y36(i.T))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-list-team"]],standalone:!0,features:[e.jDz],decls:4,vars:4,consts:[[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"editedTeammate",4,"ngIf"],["aria-label","edit",1,"btn","btn-link",3,"disabled","click"],["shape","pencil"],[3,"editedTeammate"]],template:function(n,r){1&n&&(e.YNc(0,m,2,0,"h1",0),e.TgZ(1,"ul"),e.YNc(2,T,5,6,"li",1),e.qZA(),e.YNc(3,d,1,1,"app-add-teammate",2)),2&n&&(e.Q6J("ngIf",r.team.length>0),e.xp6(2),e.Q6J("ngForOf",r.team)("ngForTrackBy",r.trackByName),e.xp6(1),e.Q6J("ngIf",r.editedTeammate))},dependencies:[c.ez,c.sg,c.O5,y.j,y.c,o.A,l.AddTeammateComponent],styles:["ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none}"]}),s})()},3876:(g,p,t)=>{t.d(p,{A:()=>o});var f=t(9523);let o=(()=>{class l{transform(a,...v){return void 0===a?"":a.toFixed(v.length?v[0]:2)}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275pipe=f.Yjl({name:"toFixed",type:l,pure:!0,standalone:!0}),l})()}}]);