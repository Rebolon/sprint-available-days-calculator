import{a as oe,b as se}from"./chunk-7CMTOLBX.js";import{a as d}from"./chunk-L624DQ5X.js";import{$ as ee,W as U,X,Y,Z,_ as $,a as O,aa as te,b as j,ba as re,c as F,ca as ie,d as R,da as ae,ea as ne,f as L,fa as k,g as J,h as z,i as B,ia as v,j as W,ja as h,k as H,l as q,m as G,r as K,s as Q}from"./chunk-WYV4TGDT.js";import{Ha as c,Ia as g,Ib as N,Qa as b,U as T,Wa as _,Xa as E,Ya as y,_a as A,bb as o,ca as D,cb as n,db as m,eb as P,gb as C,hb as l,na as u,nb as p,oa as f,pb as I,rb as M,sb as V,tb as w,ub as x}from"./chunk-R2U2M3OE.js";var me=(()=>{let i=class i{constructor(){this.storage=localStorage,this.hasSavedData=b(!1),this.storage.getItem("team")&&this.storage.getItem("parameters")?this.hasSavedData.set(!0):this.hasSavedData.set(!1)}save(r){r.team&&this.storage.setItem("team",JSON.stringify(r.team)),this.storage.setItem("parameters",r.parameters?JSON.stringify(r.parameters):JSON.stringify(k)),this.hasSavedData.set(!0)}clear(){this.storage.removeItem("team"),this.storage.removeItem("parameters"),this.hasSavedData.set(!1)}restore(){let r=this.storage.getItem("team")?JSON.parse(this.storage.getItem("team")):[],t=this.storage.getItem("parameters")?JSON.parse(localStorage.getItem("parameters")):k;return this.hasSavedData.set(!1),{team:r,parameters:t}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function he(e,i){if(e&1&&(o(0,"clr-alert",1)(1,"clr-alert-item")(2,"span",18),p(3),w(4,"async"),n()()()),e&2){let s=l();y("clrAlertType","info")("clrAlertClosable",!0),c(3),I(" ",x(4,3,s.alert.getAlert())," ")}}function ue(e,i){if(e&1){let s=P();o(0,"clr-alert",2)(1,"clr-alert-item")(2,"span",18),p(3),n(),o(4,"div",19)(5,"clr-dropdown")(6,"button",20),p(7," Actions "),m(8,"app-icon",21),n(),o(9,"clr-dropdown-menu",22)(10,"a",23),C("click",function(){u(s);let t=l();return f(t.restore())})("keyup.enter",function(){u(s);let t=l();return f(t.restore())}),p(11,"restore"),n(),o(12,"a",23),C("click",function(){u(s);let t=l();return f(t.deleteSavedData())})("keyup.enter",function(){u(s);let t=l();return f(t.deleteSavedData())}),p(13,"delete"),n()()()()()()}if(e&2){let s=l();y("clrAlertClosable",!0),c(3),I(" A save has been found in your browser, do you want to restore it ? ",s.getSavedTeammates()," ")}}W.addIcons(H,G,q,K,Q);var le=(()=>{let i=class i{constructor(r,t,a,S){this.alert=r,this.teamService=t,this.parametersService=a,this.storageService=S,this.title="sprint-resources-availability",this.getSavedTeammates=N(()=>this.teamService.getTeammates().map(ce=>ce.name).join(", ")),this.hasSavedData=!1}save(){this.storageService.save({team:this.teamService.getTeammates(),parameters:this.parametersService.getParameters()}),this.alert.setAlert("save done")}deleteSavedData(){this.storageService.clear(),this.alert.setAlert("delete done")}restore(){let{team:r,parameters:t}=this.storageService.restore();r.forEach(a=>this.teamService.addTeammate(new oe(a.name,a.availableDaysInAWeek,a.holidaysForNextSprint,a.meetingDaysAWeek,a.isNewComer))),this.parametersService.setParameters(new ne(t.nbWeeksForOneSprint,t.marginRate,t.velocityRateForNewComer)),this.alert.setAlert("Restore done")}};i.\u0275fac=function(t){return new(t||i)(g(d),g(h),g(v),g(me))},i.\u0275cmp=D({type:i,selectors:[["app-root"]],standalone:!0,features:[M([h,v,d]),V],decls:22,vars:5,consts:[[1,"main-container"],[3,"clrAlertType","clrAlertClosable"],[3,"clrAlertClosable"],[1,"header","header-6"],[1,"branding"],["routerLink","/"],[1,"title"],[1,"header-nav"],["routerLink","manage-team",1,"nav-link","nav-icon"],["shape","calculator","size","24"],["routerLink","add-teammate",1,"nav-link","nav-icon"],["shape","user","size","24"],["routerLink","edit-parameters",1,"nav-link","nav-icon"],["shape","cog","size","24"],[1,"nav-link","nav-icon","a-hover",3,"click","keyup.enter"],["shape","floppy","size","24"],[1,"content-container"],[1,"content-area"],[1,"alert-text"],[1,"alert-actions"],["clrDropdownTrigger","",1,"dropdown-toggle"],["shape","angle","direction","down"],["clrPosition","bottom-right"],["clrDropdownItem","",1,"dropdown-item",3,"click","keyup.enter"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"clr-alerts"),_(2,he,5,5,"clr-alert",1),w(3,"async"),_(4,ue,14,2,"clr-alert",2),n(),o(5,"header",3)(6,"div",4)(7,"a",5)(8,"span",6),p(9,"How many days ?"),n()()(),o(10,"div",7)(11,"a",8),m(12,"app-icon",9),n(),o(13,"a",10),m(14,"app-icon",11),n(),o(15,"a",12),m(16,"app-icon",13),n(),o(17,"a",14),C("click",function(){return a.save()})("keyup.enter",function(){return a.save()}),m(18,"app-icon",15),n()()(),o(19,"div",16)(20,"div",17),m(21,"router-outlet"),n()()()),t&2&&(c(2),A(x(3,3,a.alert.hasAlert())?2:-1),c(2),A(a.storageService.hasSavedData()?4:-1),c(13),E("disabled",a.teamService.getTeammates().length?"disabled":""))},dependencies:[j,O,B,R,L,ae,ee,te,ie,re,$,U,Y,Z,X,se],styles:[".a-hover[_ngcontent-%COMP%]{cursor:pointer}"]});let e=i;return e})();var pe=[{path:"",redirectTo:"/manage-team",pathMatch:"full"},{path:"manage-team",loadComponent:()=>import("./chunk-2JM43QLL.js").then(e=>e.ManageTeamComponent)},{path:"list-team",loadComponent:()=>import("./chunk-LAJTH4VZ.js").then(e=>e.ListTeamComponent)},{path:"add-teammate",loadComponent:()=>import("./chunk-YX5PK2FO.js").then(e=>e.AddTeammateComponent)},{path:"edit-teammate/:id",loadComponent:()=>import("./chunk-YX5PK2FO.js").then(e=>e.AddTeammateComponent)},{path:"edit-parameters",loadComponent:()=>import("./chunk-J3YHOVXP.js").then(e=>e.EditParametersComponent)},{path:"**",loadComponent:()=>import("./chunk-5X6R7WE6.js").then(e=>e.Page404Component)}];F(le,{providers:[J(pe,z()),h,v,d]}).catch(e=>console.error(e));
